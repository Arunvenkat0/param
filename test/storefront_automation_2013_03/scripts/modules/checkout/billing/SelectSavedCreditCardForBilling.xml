<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <description>Uses an already saved credit card while placing an order.</description>
  <parameter name="CreditCardType"/>
  <parameter name="SecurityCode"/>
  <command name="waitForElementPresent" target="css=.payment-method-options"/>
  <command name="check" target="id=is-CREDIT_CARD">
    <comment>Select CC as Pament Method</comment>
  </command>
  <command name="waitForElementPresent" target="id=PaymentMethod_CREDIT_CARD"/>
  <command name="assertElementPresent" target="id=creditCardList">
    <comment>Credit Card Required Fields Validation</comment>
  </command>
  <command name="select" target="id=creditCardList" value="label=(@{CreditCardType}) *">
    <comment>Seelct CC from List</comment>
  </command>
  <command name="waitForSelectedLabel" target="id=creditCardList" value="(@{CreditCardType}) *"/>
  <command name="pause" value="1500"/>
  <command name="waitForElementPresent" target="id=dwfrm_billing_paymentMethods_creditCard_cvn">
    <comment>Wait for Security Code field to appear</comment>
  </command>
  <command name="type" target="id=dwfrm_billing_paymentMethods_creditCard_cvn" value="@{SecurityCode}">
    <comment>Enter Security Code</comment>
  </command>
</scriptmodule>