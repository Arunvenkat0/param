<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <description>Adds products with the given quantity into the cart and validates the correct behaviour of the mini cart.

Pre-Condition: A product detail page is already opened.

@Parameters
Quantity : Number of items
ProductName: Name of the added product, used for validation
ProductPrice. Price of the added product, used for validation
Position:</description>
  <parameter name="Quantity"/>
  <parameter name="ProductName"/>
  <parameter name="ProductPrice"/>
  <parameter name="Position"/>
  <action name="EnterQuantity"/>
  <command name="type" target="id=Quantity" value="@{Quantity}">
    <comment>Enter desired quantity.</comment>
  </command>
  <command name="waitForText" target="id=Quantity" value="@{Quantity}"/>
  <action name="AddToCart"/>
  <command name="waitForElementPresent" target="xpath=id('add-to-cart')[not(@disabled='disabled')]">
    <comment>Wait for enable add-to-cart button</comment>
  </command>
  <command name="click" target="id=add-to-cart">
    <comment>Add product to cart.</comment>
  </command>
  <action name="CheckMiniCart">
    <comment>Checks the correct behaviour of the mini cart window and the content of the added product</comment>
  </action>
  <module name="modules.minicart.CheckAutomaticAppearanceOfMiniCart"/>
  <module name="modules.minicart.CheckContentOfMiniCart">
    <parameter name="Name" value="@{ProductName}"/>
    <parameter name="Quantity" value="@{Quantity}"/>
    <parameter name="PriceProduct" value="@{ProductPrice}"/>
    <parameter name="Position" value="@{Position}"/>
  </module>
</scriptmodule>