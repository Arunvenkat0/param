<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule xmlns="http://xlt.xceptance.com/xlt-script/2" version="4">
  <description>Adds a new address to the address management properties.</description>
  <parameter name="Title"/>
  <parameter name="FirstName"/>
  <parameter name="LastName"/>
  <parameter name="Address"/>
  <parameter name="City"/>
  <parameter name="State"/>
  <parameter name="Zip"/>
  <parameter name="Country"/>
  <parameter name="Phone"/>
  <action name="CreateNewAddress"/>
  <module name="library.function.FClickAndWaitFor">
    <parameter name="clickElement" value="link=Create New Address"/>
    <parameter name="waitForElement" value="id=edit-address-form"/>
  </module>
  <command name="click" disabled="true" target="link=Create New Address"/>
  <command name="waitForElementPresent" disabled="true" target="id=edit-address-form"/>
  <module name="modules.adressmanagement.ValidateRequiredFieldsForAddresses"/>
  <action name="EnterNewAddressData"/>
  <module name="library.function.FType">
    <parameter name="typeElement" value="id=dwfrm_profile_address_addressid"/>
    <parameter name="inputString" value="@{Title}"/>
  </module>
  <command name="type" disabled="true" target="id=dwfrm_profile_address_addressid" value="@{Title}"/>
  <module name="library.module.app.sitegenesis.checkout.shipping.multiaddress.EnterAddressData">
    <parameter name="FirstName" value="@{FirstName}"/>
    <parameter name="LastName" value="@{LastName}"/>
    <parameter name="Address1" value="@{Address}"/>
    <parameter name="Address2" value=""/>
    <parameter name="Country" value="@{Country}"/>
    <parameter name="State" value="@{State}"/>
    <parameter name="City" value="@{City}"/>
    <parameter name="ZipCode" value="@{Zip}"/>
    <parameter name="Phone" value="@{Phone}"/>
  </module>
  <action name="ApplyNewAddress"/>
  <command name="submit" target="id=edit-address-form"/>
</scriptmodule>