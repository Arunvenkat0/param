<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule xmlns="http://xlt.xceptance.com/xlt-script/2" version="4">
  <description>Checks the credit card data within the sidebar.

Name
Type
NumberLast4 
ExpireMonthShort (e.g. Nov for November)
 ExpireYear
Amount</description>
  <parameter name="Name"/>
  <parameter name="Type"/>
  <parameter name="NumberLast4"/>
  <parameter name="ExpireMonthShort"/>
  <parameter name="ExpireYear"/>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=.mini-payment-instrument span"/>
    <parameter name="textPattern" value="regexpi:.*Payment Method"/>
  </module>
  <command name="assertText" target="css=.mini-payment-instrument .details" value="glob:*@{Name}*">
    <comment>Validate Complete Name on CC</comment>
  </command>
  <command name="assertText" target="css=.mini-payment-instrument .details" value="glob:*@{Type}*">
    <comment>Validate CC Type</comment>
  </command>
  <command name="assertText" target="css=.mini-payment-instrument .details" value="glob:*@{NumberLast4}*">
    <comment>Validate CC Number</comment>
  </command>
  <command name="assertText" target="css=.mini-payment-instrument .details" value="glob:*Exp.@{ExpireMonthShort}.@{ExpireYear}*">
    <comment>Correct Version: Validate Expiry Dates</comment>
  </command>
  <command name="assertText" target="css=.mini-payment-instrument .details" value="regexp:.*Amount:\s*-?\$\s*([0-9]|(([1-9][0-9]{0,2})(,[0-9]{3})*))\.[0-9]{2}$">
    <comment>Validate Amount</comment>
  </command>
</scriptmodule>