<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule xmlns="http://xlt.xceptance.com/xlt-script/2" version="4">
  <action name="VerifyAddToCartButtonIsDisabled"/>
  <module name="library.function.FAssertElementPresent">
    <parameter name="assertedElement" value="css=#add-to-cart[disabled]"/>
  </module>
  <action name="SelectAndStoreSizeSelected"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="${SizeSwatch}"/>
  </module>
  <module name="library.function.FStoreText">
    <parameter name="textElement" value="css=.swatches.size  li.selected a.swatchanchor"/>
    <parameter name="textStoreVariableName" value="ProductSize"/>
  </module>
  <action name="StoreColorSelected"/>
  <module name="library.function.FStoreText">
    <parameter name="textElement" value="css=.Color:first-child :not(.unselectable) .swatchanchor"/>
    <parameter name="textStoreVariableName" value="ProductColor"/>
  </module>
  <action name="VerifySelectedSizeAndColor"/>
  <module name="library.function.FWaitForTextCaseInsensitive">
    <parameter name="textElement" value="css=.size .selected-value"/>
    <parameter name="plainString" value="${ProductSize}"/>
  </module>
  <module name="library.function.FWaitForTextCaseInsensitive">
    <parameter name="textElement" value="css=.Color .selected-value"/>
    <parameter name="plainString" value="${ProductColor}"/>
  </module>
  <action name="VerifyAddToCartButtonIsEnabled"/>
  <command name="waitForNotElementPresent" target="css=#add-to-cart[disabled]"/>
</scriptmodule>