<?xml version="1.0" encoding="UTF-8" ?>
<scriptmodule version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <description>Check the navigation elements for any product in the catalog except the first and the last one. 

@Paramters
NavigateToProduct : possible values (previous/next) 
ProductName : name of the product to whom naviagated to</description>
  <parameter name="NavigateToProduct"/>
  <command name="waitForElementPresent" target="css=.product-previous a">
    <comment>Wait for the previous-link.</comment>
  </command>
  <command name="waitForElementPresent" target="css=.product-next a">
    <comment>Wait for the next-link.</comment>
  </command>
  <action name="NavigateToPreviousProduct"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="css=.product-@{NavigateToProduct} a"/>
  </module>
  <command name="clickAndWait" disabled="true" target="css=.product-@{NavigateToProduct} a">
    <comment>Click next or previous-link</comment>
  </command>
  <module name="library.function.FWaitForText">
    <parameter name="textElement" value="css=.breadcrumb .last"/>
    <parameter name="text" value="${FirstProductName}"/>
  </module>
  <command name="waitForText" disabled="true" target="css=.breadcrumb .last" value="${FirstProductName}">
    <comment>Validate the correct product name within breadcrumb navigation.</comment>
  </command>
  <module name="library.function.FWaitForText">
    <parameter name="textElement" value="css=h1.product-name"/>
    <parameter name="text" value="${FirstProductName}"/>
  </module>
  <command name="waitForText" disabled="true" target="css=h1.product-name" value="${FirstProductName}">
    <comment>Validate the correct product name.</comment>
  </command>
</scriptmodule>
