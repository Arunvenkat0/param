<?xml version="1.0" encoding="UTF-8" ?>
<scriptmodule version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <description>Navigates to a main category catalog page via the main navigation menu.

@Parameters
MainCategoryNumber: location of the category inside menu e.g. 1,2,3 etc.
MainCategoryName: Main Menu Name</description>
  <parameter name="MainCategoryNumber"/>
  <parameter name="MainCategoryName"/>
  <action name="OpenMainCategoryPage"/>
  <command name="waitForElementPresent" target="xpath=id('navigation')//ul/li[@{MainCategoryNumber}]/a[@class='level-1']"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="link=regexpi:@{MainCategoryName}"/>
  </module>
  <command name="clickAndWait" disabled="true" target="link=regexpi:@{MainCategoryName}"/>
  <action name="ValidateMainCategoryPage"/>
  <module name="library.function.FAssertTextCaseInsensitive">
    <parameter name="textElement" value="css=.breadcrumb-last"/>
    <parameter name="plainString" value="@{MainCategoryName}"/>
  </module>
  <command name="assertText" disabled="true" target="css=.breadcrumb-last" value="@{MainCategoryName}"/>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=.refinement-header"/>
    <parameter name="textPattern" value="regexpi:.*@{MainCategoryName}"/>
  </module>
  <command name="assertText" disabled="true" target="css=.refinement-header" value="regexpi:.*@{MainCategoryName}"/>
  <module name="library.function.FAssertElementPresent">
    <parameter name="assertedElement" value="id=primary"/>
  </module>
  <command name="assertElementPresent" disabled="true" target="id=primary"/>
</scriptmodule>
