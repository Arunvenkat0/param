<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule xmlns="http://xlt.xceptance.com/xlt-script/2" version="4">
  <description>Validates the naviagation elements of very first product detail page within the catalog.</description>
  <action name="SelectFirstProduct"/>
  <command name="waitForElementPresent" target="css=.grid-tile:first-child .name-link"/>
  <command name="storeEval" target="document.getElementsByClassName('grid-tile')[0].getElementsByClassName('name-link')[0].getAttribute('title')" value="FirstProductName"/>
  <command name="storeEval" target="document.getElementsByClassName('grid-tile')[1].getElementsByClassName('name-link')[0].getAttribute('title')" value="NextProductName"/>
  <action name="ClickFirstProductInGrid"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="css=.grid-tile:first-child .name-link"/>
  </module>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=.breadcrumb .last"/>
    <parameter name="textPattern" value="${FirstProductName}"/>
  </module>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=h1.product-name"/>
    <parameter name="textPattern" value="${FirstProductName}"/>
  </module>
  <command name="assertNotElementPresent" target="css=.product-previous a"/>
  <command name="waitForElementPresent" target="css=.product-next a"/>
  <action name="NavigateToNextProduct"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="css=.product-next a"/>
  </module>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=.breadcrumb .last"/>
    <parameter name="textPattern" value="${NextProductName}"/>
  </module>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=h1.product-name"/>
    <parameter name="textPattern" value="${NextProductName}"/>
  </module>
</scriptmodule>