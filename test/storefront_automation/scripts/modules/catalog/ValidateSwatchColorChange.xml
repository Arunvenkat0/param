<?xml version="1.0" encoding="UTF-8" ?>
<scriptmodule version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <description>Validates the selected color inside quick view and product details page

Steps:
Select an available color
Validate image of selected color (on category page)
Validate it remains the selected color (inside quick view)
Validate it remains the selected color (on product details page)</description>
  <parameter name="SelectedColor"/>
  <action name="ValidateSwatchResultInQuickView"/>
  <module name="modules.catalog.OpenQuickView"/>
  <command name="assertElementPresent" target="css=.swatchanchor[title=&quot;@{SelectedColor}&quot;]">
    <comment>Check if the correct swatch is selected.</comment>
  </command>
  <action name="CloseQuickview"/>
  <command name="click" target="css=.ui-dialog-titlebar-close"/>
  <action name="ValidateSwatchResultOnProductPage"/>
  <command name="clickAndWait" target="xpath=//div[@class='product-name']//a[@title=&quot;${ProductName}&quot;]"/>
  <command name="waitForText" target="css=.breadcrumb .last" value="${ProductName}"/>
  <command name="waitForElementPresent" target="css=.Color li.selected"/>
  <command name="waitForText" target="css=.Color li.selected a" value="@{SelectedColor}"/>
</scriptmodule>
