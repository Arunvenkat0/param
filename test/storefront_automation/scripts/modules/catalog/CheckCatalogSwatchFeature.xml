<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule xmlns="http://xlt.xceptance.com/xlt-script/2" version="4">
  <description>Some products offer to change there color (swatches):
- hover -&gt; change of color -&gt; mouseOut -&gt; initial color
- click -&gt; permanent change
- permanently changed colors appear in details and quickview</description>
  <parameter name="SubCategoryName"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.product-image &gt; a.thumb-link"/>
  </module>
  <module name="library.function.FWaitForElement">
    <parameter name="element" value="dom=document.getElementsByClassName('selected')[0].getElementsByTagName('img')[0]"/>
  </module>
  <module name="library.function.FStoreText">
    <parameter name="textElement" value="css=h1.product-name"/>
    <parameter name="textStoreVariableName" value="ProductName"/>
  </module>
  <module name="library.function.FStoreText">
    <parameter name="textElement" value="css=.Color  li.selected a.swatchanchor"/>
    <parameter name="textStoreVariableName" value="DefaultColor"/>
  </module>
  <module name="library.function.FStoreText">
    <parameter name="textElement" value="css=.Color &gt; li.emptyswatch &gt; a.swatchanchor"/>
    <parameter name="textStoreVariableName" value="AvailableColor2"/>
  </module>
  <action name="CheckAvailableColors"/>
  <module name="modules.catalog.CheckAvailableColorsOnCategoryPage"/>
  <action name="SelectAlternativeColorAndCheckResult"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.Color &gt; li.emptyswatch &gt; a.swatchanchor[title=&quot;${AvailableColor2}&quot;]"/>
  </module>
  <command name="pause" value="3000"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="link=@{SubCategoryName}"/>
  </module>
  <module name="modules.catalog.ValidateSwatchColorChange">
    <parameter name="SelectedColor" value="${AvailableColor2}"/>
  </module>
  <action name="SelectDefaultColorAndCheckResult"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="link=@{SubCategoryName}"/>
  </module>
  <module name="modules.catalog.ValidateSwatchColorChange">
    <parameter name="SelectedColor" value="${DefaultColor}"/>
  </module>
</scriptmodule>