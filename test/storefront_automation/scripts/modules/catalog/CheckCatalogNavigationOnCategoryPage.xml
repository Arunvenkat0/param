<?xml version="1.0" encoding="UTF-8" ?>
<scriptmodule version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <description>On category pages with more than 5 pagination elements you can use arrows:
- one step forward / backward
- get to the end / beginning

@Parameters
SubCategoryName: name of the subcategory you are working on
LastPageNumber: Last category page 
MiddlePageNumber : Page number on which you will validate next/previous</description>
  <parameter name="SubCategoryName"/>
  <parameter name="MiddlePageNumber"/>
  <module name="modules.catalog.ValidateCatalogNavigationFirstPage"/>
  <action name="OpenLastPage"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.page-last"/>
  </module>
  <command name="click" disabled="true" target="css=.page-last"/>
  <module name="modules.catalog.ValidateCatalogNaviagationLastPage"/>
  <action name="OpenFirstPage"/>
  <module name="library.function.FClickAndWaitFor">
    <parameter name="clickElement" value="css=.page-first"/>
    <parameter name="waitForElement" value="css=.page-@{MiddlePageNumber}"/>
  </module>
  <command name="click" disabled="true" target="css=.page-first"/>
  <command name="waitForElementPresent" disabled="true" target="css=.page-@{MiddlePageNumber}"/>
  <action name="OpenLastPageBeforePaging"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.page-@{MiddlePageNumber}"/>
  </module>
  <command name="click" disabled="true" target="css=.page-@{MiddlePageNumber}"/>
  <module name="modules.catalog.ValidateCatalogNavigationMiddlePage"/>
  <action name="OpenPreviousPage"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.page-previous"/>
  </module>
  <command name="click" disabled="true" target="css=.page-previous"/>
  <module name="modules.catalog.ValidateCatalogNavigationMiddlePage"/>
  <action name="OpenNextPage"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.page-next"/>
  </module>
  <command name="click" disabled="true" target="css=.page-next"/>
  <module name="modules.catalog.ValidateCatalogNavigationMiddlePage"/>
  <action name="ClickSubcategoryInBreadcrumb"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="link=@{SubCategoryName}"/>
  </module>
  <command name="clickAndWait" target="link=@{SubCategoryName}">
    <comment>Page with more navigation elements</comment>
  </command>
</scriptmodule>
