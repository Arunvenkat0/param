<?xml version="1.0" encoding="UTF-8"?>
<scriptmodule xmlns="http://xlt.xceptance.com/xlt-script/2" version="4">
  <description>Checks navigation feature in pagination of category pages and on product detail pages.

@Parameter
MainCategoryName: name of the main category to open
SubCategoryName: name of the sub category to open
FirstProductName: name of the first product displayed within the sub category
SecondProductName: name of the second product displayed within the sub category
LastProductName: name of the last product displayed within the sub category
LastPageNumber: number of the last page of this category
MiddlePageNumber: number of the middle page to test navigation elements</description>
  <parameter name="MainCategoryName"/>
  <parameter name="SubCategoryName"/>
  <parameter name="MiddlePageNumber"/>
  <action name="OpenCategory"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.link-1"/>
  </module>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="css=img[alt=&quot;Spring Arrivals&quot;]"/>
  </module>
  <module name="library.function.FClickAndWaitForPageLoad" disabled="true">
    <parameter name="clickElement" value="link=regexpi:@{MainCategoryName}"/>
  </module>
  <action name="OpenSubcategory"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="link=@{SubCategoryName}"/>
  </module>
  <module name="modules.catalog.CheckCatalogNavigationOnCategoryPage">
    <parameter name="SubCategoryName" value="@{SubCategoryName}"/>
    <parameter name="MiddlePageNumber" value="@{MiddlePageNumber}"/>
  </module>
  <module name="modules.catalog.CheckNavigationOnProductDetailsPage">
    <parameter name="SubCategoryName" value="@{SubCategoryName}"/>
  </module>
</scriptmodule>