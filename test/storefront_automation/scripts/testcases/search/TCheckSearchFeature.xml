<?xml version="1.0" encoding="UTF-8"?>
<testcase version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <tags>search</tags>
  <description>This testcase validates the search feature. Four searches are performed and the results validated:
1. Search for product by ID - validation of product details page
2. Search for product by complete name  - validation of product details page
3. Search for products keyword - validation of overview page with search results
4. Search with invalid search phrase - validation of error message</description>
  <action name="OpenStartPage"/>
  <command name="open" value="${shopURL}"/>
  <command name="deleteAllVisibleCookies"/>
  <command name="open" value="${shopURL}"/>
  <action name="SearchProductByID"/>
  <module name="modules.search.SearchProductByIDOrName">
    <parameter name="SearchText" value="${SearchByIDProductID}"/>
  </module>
  <module name="modules.catalog.ValidateProductDetailsPageStructure"/>
  <module name="modules.catalog.ValidateProductDataOnDetailsPage">
    <parameter name="Name" value="${SearchByIDProductName}"/>
    <parameter name="Price" value="${SearchByIDProductPrice}"/>
  </module>
  <action name="SearchProductByName"/>
  <module name="modules.search.SearchProductByIDOrName">
    <comment>Search for the Product using it's full name</comment>
    <parameter name="SearchText" value="${SearchByNameProductName}"/>
  </module>
  <module name="modules.catalog.ValidateProductDetailsPageStructure"/>
  <module name="modules.catalog.ValidateProductDataOnDetailsPage">
    <parameter name="Name" value="${SearchByNameProductName}"/>
    <parameter name="Price" value="${SearchByNameProductPrice}"/>
  </module>
  <action name="SearchProductByKeyword"/>
  <module name="modules.search.SearchProductByKeyword">
    <comment>Search for the Product using keywords</comment>
    <parameter name="KeyWord" value="${SearchByKeyword}"/>
  </module>
  <action name="SearchWithEmptyResult"/>
  <module name="modules.search.SearchProductNoResult">
    <comment>Validate Search which doesn't yield any results</comment>
    <parameter name="InvalidSearchEntry" value="${InvalidSearchEntry}"/>
  </module>
  <action name="Return2Home"/>
  <module name="modules.staticelements.Return2Home">
    <comment>Back to Homepage</comment>
  </module>
</testcase>