<?xml version="1.0" encoding="UTF-8" ?>
<testcase version="3" disabled="true" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <tags>account</tags>
  <description>Personal data account management. Creates a new user and changes the following information afterwards:

- FirstName
- LastName
- Email
- Password

The user is logged out and loggid in again to proof the changes have been stored correctly. All changes are reverted to the initial state.

During the testcase email and password information are generated dynamically.

Disabled because it fails in 13.3</description>
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.usermanagement.RegisterNewUser">
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <action name="ChangePersonalData"/>
  <command name="store" target="${RANDOM.String(6)}@varmail.de" value="ChangedEmail"/>
  <command name="store" target="${RANDOM.String(9)}" value="ChangedPassword"/>
  <module name="modules.usermanagement.EditPersonalData">
    <parameter name="First_Name" value="${ChangedFirstName}"/>
    <parameter name="Last_Name" value="${ChangedLastName}"/>
    <parameter name="Email" value="${ChangedEmail}"/>
    <parameter name="Password" value="${ChangedPassword}"/>
  </module>
  <action name="Logout"/>
  <module name="modules.usermanagement.LogOutFromWelcomePage"/>
  <action name="LoginAgain">
    <comment>checks if you can login with the new credentials</comment>
  </action>
  <module name="modules.usermanagement.LoginOnLoginPage">
    <parameter name="Email" value="${ChangedEmail}"/>
    <parameter name="Password" value="${ChangedPassword}"/>
  </module>
  <module name="modules.usermanagement.ValidateWelcomePage">
    <parameter name="FirstName" value="${ChangedFirstName}"/>
    <parameter name="LastName" value="${ChangedLastName}"/>
  </module>
  <action name="RevertPersonalData"/>
  <module name="modules.usermanagement.EditPersonalData">
    <comment>Change the personal data back to initial state</comment>
    <parameter name="First_Name" value="${FirstName}"/>
    <parameter name="Last_Name" value="${LastName}"/>
    <parameter name="Email" value="${Email}"/>
    <parameter name="Password" value="${Password}"/>
  </module>
  <module name="modules.usermanagement.ValidateWelcomePage">
    <comment>checks whether a change has taken place</comment>
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <action name="Logout"/>
  <module name="modules.usermanagement.LogOutFromWelcomePage"/>
  <action name="GoToHome"/>
  <module name="modules.staticelements.Return2Home"/>
</testcase>
