<?xml version="1.0" encoding="UTF-8"?>
<testcase version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <tags>account payment</tags>
  <description>Payment data account management:
=&gt; adds credit cards:
- Visa
- American Express
- Master Card
- Discovery
=&gt; removes credit cards</description>
  <action name="OpenStartPage"/>
  <command name="open" value="${shopURL}"/>
  <command name="deleteAllVisibleCookies"/>
  <command name="open" value="${shopURL}"/>
  <action name="RegisterUser"/>
  <module name="modules.usermanagement.RegisterNewUser">
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <action name="OpenPaymentSettings"/>
  <command name="clickAndWait" target="css=.account-options li:nth-child(5) a"/>
  <action name="AddVisa"/>
  <command name="pause" value="1000"/>
  <module name="modules.payments.AddCreditCard">
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="Type" value="${CreditCardType1}"/>
    <parameter name="Number" value="${CreditCardNumber1}"/>
    <parameter name="ExpireDateMonth" value="${CreditCardExpireDateMonth}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.ValidateCreditCardData">
    <parameter name="Position" value="1"/>
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="TypeShort" value="${CreditCardTypeShort1}"/>
    <parameter name="NumberLastFour" value="${CreditCardNumberLastFour1}"/>
    <parameter name="ExpireDateMonthNumber" value="${CreditCardExpireDateMonthNumber}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.DeleteCreditCard">
    <parameter name="PositionNb" value="1"/>
  </module>
  <action name="AddAmericanExpress"/>
  <command name="pause" value="1000"/>
  <module name="modules.payments.AddCreditCard">
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="Type" value="${CreditCardType2}"/>
    <parameter name="Number" value="${CreditCardNumber2}"/>
    <parameter name="ExpireDateMonth" value="${CreditCardExpireDateMonth}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.ValidateCreditCardData">
    <parameter name="Position" value="1"/>
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="TypeShort" value="${CreditCardTypeShort2}"/>
    <parameter name="NumberLastFour" value="${CreditCardNumberLastFour2}"/>
    <parameter name="ExpireDateMonthNumber" value="${CreditCardExpireDateMonthNumber}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.DeleteCreditCard">
    <parameter name="PositionNb" value="1"/>
  </module>
  <action name="AddMasterCard"/>
  <command name="pause" value="1000"/>
  <module name="modules.payments.AddCreditCard">
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="Type" value="${CreditCardType3}"/>
    <parameter name="Number" value="${CreditCardNumber3}"/>
    <parameter name="ExpireDateMonth" value="${CreditCardExpireDateMonth}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.ValidateCreditCardData">
    <parameter name="Position" value="1"/>
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="TypeShort" value="${CreditCardTypeShort3}"/>
    <parameter name="NumberLastFour" value="${CreditCardNumberLastFour3}"/>
    <parameter name="ExpireDateMonthNumber" value="${CreditCardExpireDateMonthNumber}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.DeleteCreditCard">
    <parameter name="PositionNb" value="1"/>
  </module>
  <action name="AddDiscoveryCard"/>
  <command name="pause" value="1000"/>
  <module name="modules.payments.AddCreditCard">
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="Type" value="${CreditCardType4}"/>
    <parameter name="Number" value="${CreditCardNumber4}"/>
    <parameter name="ExpireDateMonth" value="${CreditCardExpireDateMonth}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.ValidateCreditCardData">
    <parameter name="Position" value="1"/>
    <parameter name="Name" value="${FirstName} ${LastName}"/>
    <parameter name="TypeShort" value="${CreditCardTypeShort4}"/>
    <parameter name="NumberLastFour" value="${CreditCardNumberLastFour4}"/>
    <parameter name="ExpireDateMonthNumber" value="${CreditCardExpireDateMonthNumber}"/>
    <parameter name="ExpireDateYear" value="${CreditCardExpireDateYear}"/>
  </module>
  <module name="modules.payments.DeleteCreditCard">
    <parameter name="PositionNb" value="1"/>
  </module>
  <action name="GoToWelcomePage"/>
  <command name="waitForElementPresent" target="css=.user-account"/>
  <command name="clickAndWait" target="css=.user-account"/>
  <action name="LogoutAndGoToHomepage"/>
  <module name="modules.usermanagement.LogOutFromWelcomePage"/>
  <module name="modules.staticelements.Return2Home"/>
</testcase>