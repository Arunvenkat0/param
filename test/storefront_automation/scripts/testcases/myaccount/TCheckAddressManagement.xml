<?xml version="1.0" encoding="UTF-8"?>
<testcase version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <tags>account address</tags>
  <description>Account address management: 
=&gt; adds two addresses 
=&gt; edits one
=&gt; deletes both</description>
  <action name="OpenStartPage"/>
  <command name="open" value="${shopURL}">
    <comment>Open Homepage</comment>
  </command>
  <command name="deleteAllVisibleCookies"/>
  <command name="open" value="${shopURL}">
    <comment>Open Homepage</comment>
  </command>
  <action name="RegisterUser"/>
  <module name="modules.usermanagement.RegisterNewUser">
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <action name="NavigateToAddressManagement"/>
  <command name="clickAndWait" target="css=.account-options li:nth-child(3) a"/>
  <command name="assertText" target="css=.breadcrumb-last" value="Addresses"/>
  <command name="assertText" target="css=#addresses h1" value="Addresses"/>
  <action name="CreateFirstAddress"/>
  <module name="modules.adressmanagement.CreateAddress">
    <parameter name="Title" value="${AddressTitle}"/>
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
    <parameter name="Address" value="${Address}"/>
    <parameter name="City" value="${City}"/>
    <parameter name="State" value="${State}"/>
    <parameter name="Zip" value="${ZIP}"/>
    <parameter name="Country" value="${Country}"/>
    <parameter name="Phone" value="${Phone}"/>
  </module>
  <command name="waitForNotElementPresent" target="id=edit-address-form">
    <comment>Wait for the address form to be closed.</comment>
  </command>
  <module name="modules.adressmanagement.CheckAddress">
    <parameter name="Position" value="1"/>
    <parameter name="Title" value="${AddressTitle}"/>
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
    <parameter name="Address" value="${Address}"/>
    <parameter name="City" value="${City}"/>
    <parameter name="StateShort" value="${StateShort}"/>
    <parameter name="Zip" value="${ZIP}"/>
    <parameter name="Country" value="${Country}"/>
    <parameter name="Phone" value="${Phone}"/>
  </module>
  <action name="EditFirstAddress" disabled="true"/>
  <module name="modules.adressmanagement.EditAddress" disabled="true">
    <parameter name="Position" value="1"/>
    <parameter name="Title" value="${AddressTitle2}"/>
    <parameter name="FirstName" value="${FirstName2}"/>
    <parameter name="LastName" value="${LastName2}"/>
    <parameter name="Address" value="${Address2}"/>
    <parameter name="City" value="${City2}"/>
    <parameter name="State" value="${State2}"/>
    <parameter name="Zip" value="${ZIP2}"/>
    <parameter name="Country" value="${Country2}"/>
    <parameter name="Phone" value="${Phone2}"/>
  </module>
  <module name="modules.adressmanagement.CheckAddress" disabled="true">
    <parameter name="Position" value="1"/>
    <parameter name="Title" value="${AddressTitle2}"/>
    <parameter name="FirstName" value="${FirstName2}"/>
    <parameter name="LastName" value="${LastName2}"/>
    <parameter name="Address" value="${Address2}"/>
    <parameter name="City" value="${City2}"/>
    <parameter name="StateShort" value="${StateShort2}"/>
    <parameter name="Zip" value="${ZIP2}"/>
    <parameter name="Country" value="${Country2}"/>
    <parameter name="Phone" value="${Phone2}"/>
  </module>
  <action name="CreateSecondAddress"/>
  <module name="modules.adressmanagement.CreateAddress">
    <parameter name="Title" value="${AddressTitle2}"/>
    <parameter name="FirstName" value="${FirstName2}"/>
    <parameter name="LastName" value="${LastName2}"/>
    <parameter name="Address" value="${Address2}"/>
    <parameter name="City" value="${City2}"/>
    <parameter name="State" value="${State2}"/>
    <parameter name="Zip" value="${ZIP2}"/>
    <parameter name="Country" value="${Country2}"/>
    <parameter name="Phone" value="${Phone2}"/>
  </module>
  <module name="modules.adressmanagement.CheckAddress">
    <parameter name="Position" value="1"/>
    <parameter name="Title" value="${AddressTitle}"/>
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
    <parameter name="Address" value="${Address}"/>
    <parameter name="City" value="${City}"/>
    <parameter name="StateShort" value="${StateShort}"/>
    <parameter name="Zip" value="${ZIP}"/>
    <parameter name="Country" value="${Country}"/>
    <parameter name="Phone" value="${Phone}"/>
  </module>
  <module name="modules.adressmanagement.CheckAddress">
    <parameter name="Position" value="2"/>
    <parameter name="Title" value="${AddressTitle2}"/>
    <parameter name="FirstName" value="${FirstName2}"/>
    <parameter name="LastName" value="${LastName2}"/>
    <parameter name="Address" value="${Address2}"/>
    <parameter name="City" value="${City2}"/>
    <parameter name="StateShort" value="${StateShort2}"/>
    <parameter name="Zip" value="${ZIP2}"/>
    <parameter name="Country" value="${Country2}"/>
    <parameter name="Phone" value="${Phone2}"/>
  </module>
  <action name="DeleteSecondAddress"/>
  <module name="modules.adressmanagement.DeleteLastAddress" disabled="true">
    <comment>Deletes the last address and checks if one address is remaining.</comment>
    <parameter name="AddressCount" value="1"/>
  </module>
  <action name="TryToDeleteDefaultAddress"/>
  <module name="modules.adressmanagement.DeleteDefaultAddress"/>
  <action name="ReturnToMain"/>
  <command name="clickAndWait" target="css=.user-account"/>
  <action name="Logout"/>
  <module name="modules.usermanagement.LogOutFromWelcomePage"/>
  <action name="GoToHomepage"/>
  <module name="modules.staticelements.Return2Home"/>
</testcase>