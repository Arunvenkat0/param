<?xml version="1.0" encoding="UTF-8" ?>
<testcase version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.search.SearchProductByIDOrName">
    <parameter name="SearchText" value="${ProductID}"/>
  </module>
  <module name="modules.catalog.ValidateInStorePickUpProductDetailsPageStructure"/>
  <module name="modules.catalog.ValidateProductDataOnDetailsPage">
    <parameter name="Name" value="${ProductName}"/>
    <parameter name="Price" value="${ProductPrice}"/>
  </module>
  <command name="assertElementPresent" target="link=Check store availability"/>
  <action name="OpenStoreSelectionOverlay"/>
  <command name="click" target="link=Check store availability"/>
  <action name="SearchForNothing"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertElementPresent" target="css=.error-message"/>
  <command name="assertText" target="css=.error-message" value="Please enter a valid Zip Code"/>
  <action name="SearchForInvalidInput"/>
  <command name="type" target="id=userZip" value="q1w2e3r4"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertElementPresent" target="css=.error-message"/>
  <command name="assertText" target="css=.error-message" value="Please enter a valid Zip Code"/>
  <command name="type" target="id=userZip" value="${ZipCode1}"/>
  <action name="SearchForZipCode1"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertTextPresent" value="${ZipCode1}"/>
  <command name="assertElementPresent" target="css=.update-location"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile"/>
  <command name="assertElementPresent" target="css=.select-store-button"/>
  <command name="assertElementPresent" target="css=#listings-nav"/>
  <action name="SelectPickUpStore1"/>
  <command name="click" target="css=#preferred-store-panel .store-list .store-store9 button">
    <comment>//div[@id='preferred-store-panel']/div[2]/ul/li[1]/button</comment>
  </command>
  <command name="assertText" target="css=#preferred-store-panel .store-list .store-store9 button" value="Preferred Store"/>
  <action name="CloseOverlay"/>
  <command name="click" target="css=#preferred-store-panel .close">
    <comment>//*[@id='preferred-store-panel']/button[contains(@class,'close') and contains(@class,'button-style-1')][1]</comment>
  </command>
  <command name="waitForElementPresent" target="link=Check store availability"/>
  <action name="OpenStoreSelectionOverlayAgain"/>
  <command name="click" target="link=Check store availability"/>
  <command name="click" target="css=.update-location"/>
  <command name="type" target="id=userZip" value="${ZipCode2}"/>
  <action name="SearchForZipCode2"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertTextPresent" value="${ZipCode2}"/>
  <command name="assertElementPresent" target="css=.update-location"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile"/>
  <command name="assertElementPresent" target="css=.select-store-button"/>
  <command name="assertElementPresent" target="css=#listings-nav"/>
  <action name="OpenNextPage"/>
  <command name="click" target="link=2"/>
  <command name="assertElementPresent" target="css=.update-location"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile"/>
  <command name="assertElementPresent" target="css=.select-store-button"/>
  <command name="assertElementPresent" target="css=#listings-nav"/>
  <action name="SelectPickUpStore2"/>
  <command name="click" target="css=#preferred-store-panel .store-list .store-store3 button">
    <comment>//div[@id='preferred-store-panel']/div[2]/ul/li[1]/button</comment>
  </command>
  <command name="assertText" target="css=#preferred-store-panel .store-list .store-store3 button" value="Preferred Store"/>
  <action name="CloseOverlay"/>
  <command name="click" target="css=#preferred-store-panel .close">
    <comment>//*[@id='preferred-store-panel']/button[contains(@class,'close') and contains(@class,'button-style-1')][1]</comment>
  </command>
  <command name="waitForElementPresent" target="link=Check store availability"/>
</testcase>
