<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="4" junit-test="true">
  <tags>C84676</tags>
  <description>Test Case ID:(C84676) Smoke Test » My Account - Returning Customer » Personal Information » Personal Information</description>
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.usermanagement.RegisterNewUser">
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <action name="ChangePersonalData"/>
  <command name="store" target="${RANDOM.String(6)}@varmail.de" value="ChangedEmail"/>
  <module name="modules.usermanagement.EditPersonalData">
    <parameter name="First_Name" value="${ChangedFirstName}"/>
    <parameter name="Last_Name" value="${ChangedLastName}"/>
    <parameter name="Email" value="${ChangedEmail}"/>
    <parameter name="Password" value="${Password}"/>
  </module>
  <action name="Logout"/>
  <module name="modules.usermanagement.LogOutFromWelcomePage"/>
  <action name="LoginAgain">
    <comment>checks if you can login with the new credentials</comment>
  </action>
  <module name="modules.usermanagement.LoginOnLoginPage">
    <parameter name="Email" value="${ChangedEmail}"/>
    <parameter name="Password" value="${Password}"/>
  </module>
  <module name="modules.usermanagement.ValidateWelcomePage">
    <parameter name="FirstName" value="${ChangedFirstName}"/>
    <parameter name="LastName" value="${ChangedLastName}"/>
  </module>
  <action name="RevertPersonalData"/>
  <module name="modules.usermanagement.EditPersonalData">
    <comment>Change the personal data back to initial state</comment>
    <parameter name="First_Name" value="${FirstName}"/>
    <parameter name="Last_Name" value="${LastName}"/>
    <parameter name="Email" value="${Email}"/>
    <parameter name="Password" value="${Password}"/>
  </module>
  <module name="modules.usermanagement.ValidateWelcomePage">
    <comment>checks whether a change has taken place</comment>
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <action name="Logout"/>
  <module name="modules.usermanagement.LogOutFromWelcomePage"/>
  <action name="GoToHome"/>
  <module name="modules.staticelements.Return2Home"/>
</testcase>