<?xml version="1.0" encoding="UTF-8" ?>
<<<<<<< HEAD
<testcase version="3" junit-test="true" xmlns="http://xlt.xceptance.com/xlt-script/2">
=======
<testcase version="3" disabled="true" xmlns="http://xlt.xceptance.com/xlt-script/2">
>>>>>>> 3ef7dc2bdea972d0bbd887e5db122a68977b6dd7
  <tags>C84781 (incomplete)</tags>
  <description>Steps
Homepage -> Select a category and its sub category
Select all the sort options in the dropdown one by one.
Page through the results.
Change the sort order.
Expected Results
at 1. The page displays all the products under that particular sub-category of that category.
at 2. Product grid refreshes based on the selection.
at 3. The sort is persistent.
at 4. This causes the first result page to appear.</description>
  <module name="modules.staticelements.Homepage"/>
  <action name="OpenMainCategoryPage"/>
  <module name="modules.catalog.OpenMainCategoryPage">
    <comment>Navigate to Mens --> Footwear catalog page</comment>
    <parameter name="MainCategoryNumber" value="${MainCategoryNumber}"/>
    <parameter name="MainCategoryName" value="${MainCategoryName}"/>
  </module>
  <action name="OpenSubCategoryPage"/>
  <module name="modules.catalog.OpenSubCategoryPage">
    <parameter name="SubCategoryName" value="Accessories"/>
  </module>
  <module name="modules.catalog.OpenSubCategoryPage">
    <parameter name="SubCategoryName" value="${SubCategoryName}"/>
  </module>
  <module name="testcases.smoketest.category.MValidateCategoryInitViewNoPagination">
    <parameter name="CategoryName" value="${SubCategoryName}"/>
    <parameter name="SortMethod" value="${DefaultSortMethod}"/>
  </module>
  <module name="testcases.smoketest.category.MChangeSortTypeNoPagination">
    <parameter name="SortMethod" value="Price High To Low"/>
  </module>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[1]//div[contains(@class,'product-name')]/h2/a" value="Name1"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[2]//div[contains(@class,'product-name')]/h2/a" value="Name2"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[3]//div[contains(@class,'product-name')]/h2/a" value="Name3"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[4]//div[contains(@class,'product-name')]/h2/a" value="Name4"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[5]//div[contains(@class,'product-name')]/h2/a" value="Name5"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[1]//div[contains(@class,'product-pricing')]/span" value="Price1"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[2]//div[contains(@class,'product-pricing')]/span" value="Price2"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[3]//div[contains(@class,'product-pricing')]/span" value="Price3"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[4]//div[contains(@class,'product-pricing')]/span" value="Price4"/>
  <command name="storeText" target="//ul[contains(@id,'search-result-items')]/li[5]//div[contains(@class,'product-pricing')]/span" value="Price5"/>
  <action name="TSortByCategory-0"/>
</testcase>
