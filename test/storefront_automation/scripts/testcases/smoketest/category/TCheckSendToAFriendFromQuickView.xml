<?xml version="1.0" encoding="UTF-8" ?>
<testcase version="3" junit-test="true" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <tags>C84770</tags>
  <description>Test Case ID:(C84770)  Smoke Test » Quickview » QuickView: Send to a Friend</description>
  <module name="modules.staticelements.Homepage"/>
  <action name="OpenMainCategoryPage"/>
  <module name="modules.catalog.OpenMainCategoryPage">
    <comment>Navigate to Mens --> Footwear catalog page</comment>
    <parameter name="MainCategoryNumber" value="${MainCategoryNumber}"/>
    <parameter name="MainCategoryName" value="${MainCategoryName}"/>
  </module>
  <action name="OpenSubCategoryPage"/>
  <module name="modules.catalog.OpenSubCategoryPage">
    <parameter name="SubCategoryName" value="${SubCategoryName}"/>
  </module>
  <command name="storeText" target="//li[div[contains(@class,'product-tile')]//div[contains(@class,'product-pricing')]/span[(contains(@class,'product-sales-price') and (not (contains(text(),'-'))))]]//a[contains(@class,'name-link')]" value="ProductName"/>
  <command name="storeText" target="//li[contains(@class,'grid-tile')]//div[contains(@class,'product-pricing')]/span[(contains(@class,'product-sales-price') and (not (contains(text(),'-'))))]" value="ProductPrice"/>
  <action name="OpenQuickview"/>
  <module name="modules.catalog.OpenQuickView"/>
  <module name="modules.catalog.ValidateProductInQuickView"/>
  <action name="OpenSTAFOverlay"/>
  <module name="library.function.FClickAndWaitFor">
    <parameter name="clickElement" value="link=Send to a Friend"/>
    <parameter name="waitForElement" value="id=ui-dialog-title-send-to-friend-dialog"/>
  </module>
  <action name="CloseSTAFWithCancel"/>
  <module name="library.function.FClickAndWaitFor">
    <parameter name="clickElement" value="css= .cancel-button"/>
    <parameter name="waitForElement" value="css=.send-to-friend"/>
  </module>
  <action name="CloseQV"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="css=.ui-icon-closethick"/>
  </module>
  <action name="GoToHome"/>
  <module name="modules.staticelements.Return2Home"/>
</testcase>
