<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="4" junit-test="true" disabled="true">
  <tags>C85056</tags>
  <description>DISABLED: Needs In Store Configuration.
Test Case ID:(C85056) Smoke Test » Product Details » PDP: InStore Feature</description>
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.search.SearchProductByIDOrName">
    <parameter name="SearchText" value="${ProductID}"/>
  </module>
  <module name="modules.catalog.ValidateInStorePickUpProductDetailsPageStructure"/>
  <module name="modules.catalog.ValidateProductDataOnDetailsPage">
    <parameter name="Name" value="${ProductName}"/>
    <parameter name="Price" value="${ProductPrice}"/>
  </module>
  <command name="assertElementPresent" target="link=Check store availability"/>
  <action name="OpenStoreSelectionOverlay"/>
  <command name="click" target="link=Check store availability"/>
  <action name="SearchForNothing"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertElementPresent" target="css=.error-message"/>
  <command name="assertText" target="css=.error-message" value="Please enter a valid Zip Code"/>
  <action name="SearchForInvalidInput"/>
  <command name="type" target="id=userZip" value="q1w2e3r4"/>
  <action name="StartSearch"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertElementPresent" target="css=.error-message"/>
  <command name="assertText" target="css=.error-message" value="Please enter a valid Zip Code"/>
  <command name="type" target="id=userZip" value="${ZipCode1}"/>
  <action name="SearchForZipCode1"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertTextPresent" value="${ZipCode1}"/>
  <command name="assertElementPresent" target="css=.update-location"/>
  <command name="waitForElementPresent" target="css=.store-list .store-tile"/>
  <command name="assertElementPresent" target="css=.select-store-button"/>
  <command name="assertElementPresent" target="css=#listings-nav"/>
  <action name="SelectPickUpStore1"/>
  <command name="click" target="css=#preferred-store-panel .store-list .store-store9 button">
    <comment>//div[@id='preferred-store-panel']/div[2]/ul/li[1]/button</comment>
  </command>
  <command name="assertText" target="css=#preferred-store-panel .store-list .store-store9 button" value="Preferred Store"/>
  <action name="CloseOverlay"/>
  <command name="click" target="css=#preferred-store-panel .close">
    <comment>//*[@id='preferred-store-panel']/button[contains(@class,'close') and contains(@class,'button-style-1')][1]</comment>
  </command>
  <command name="waitForElementPresent" target="link=Check store availability"/>
  <action name="OpenStoreSelectionOverlayAgain"/>
  <command name="click" target="link=Check store availability"/>
  <command name="click" target="css=.update-location"/>
  <command name="type" target="id=userZip" value="${ZipCode2}"/>
  <action name="SearchForZipCode2"/>
  <command name="click" target="id=set-user-zip"/>
  <command name="assertTextPresent" value="${ZipCode2}"/>
  <command name="assertElementPresent" target="css=.update-location"/>
  <command name="waitForElementPresent" target="css=.store-list .store-tile"/>
  <command name="assertElementPresent" target="css=.select-store-button"/>
  <command name="assertElementPresent" target="css=#listings-nav"/>
  <action name="OpenNextPage"/>
  <command name="click" target="link=2"/>
  <command name="assertElementPresent" target="css=.update-location"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile"/>
  <command name="assertElementPresent" target="css=.select-store-button"/>
  <command name="assertElementPresent" target="css=#listings-nav"/>
  <action name="SelectPickUpStore2"/>
  <command name="click" target="css=#preferred-store-panel .store-list .store-store3 button">
    <comment>//div[@id='preferred-store-panel']/div[2]/ul/li[1]/button</comment>
  </command>
  <command name="assertText" target="css=#preferred-store-panel .store-list .store-store3 button" value="Preferred Store"/>
  <command name="storeText" target="css=.store-list .store-store3 .store-tile-city" value="storeCity"/>
  <command name="storeText" target="css=.store-list .store-tile-state" value="storeState"/>
  <command name="storeText" target="css=.store-list .store-store3 .store-tile-postalCode" value="storeZip"/>
  <action name="CloseOverlayAndCheckPreferedStore"/>
  <command name="click" target="css=#preferred-store-panel .close">
    <comment>//*[@id='preferred-store-panel']/button[contains(@class,'close') and contains(@class,'button-style-1')][1]</comment>
  </command>
  <command name="waitForElementPresent" target="link=Check store availability"/>
  <command name="assertText" target="css=.store-list li(1).In-Stock .store-tile-status" value="In Stock"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile-address"/>
  <command name="assertElementPresent" target="css=.more-stores"/>
  <action name="OpenStoreList"/>
  <command name="click" target="css=.more-stores"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile-status"/>
  <command name="assertElementPresent" target="css=.store-list .store-tile-address"/>
  <command name="assertElementPresent" target="css=.availability .active"/>
  <action name="CloseStoreList"/>
  <command name="click" target="css=.availability .active"/>
  <action name="AddStoreProduct2Cart"/>
  <command name="click" target="id=add-to-cart"/>
  <module name="modules.cart.GotoCart">
    <comment>Go to Cart View</comment>
  </module>
  <command name="assertTextPresent" value="${storeCity}"/>
  <command name="assertTextPresent" value="${storeState}"/>
  <command name="assertTextPresent" value="${storeZip}"/>
  <command name="assertElementPresent" target="css=.store-in-stock"/>
</testcase>