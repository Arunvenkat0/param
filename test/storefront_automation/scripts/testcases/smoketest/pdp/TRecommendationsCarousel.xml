<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="4" junit-test="true">
  <tags>C84711</tags>
  <description>Test Case ID:(C84711)  Smoke Test » Product Details » PDP: Recommendations Carousel</description>
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.search.SearchProductByIDOrName">
    <comment>Search for the product set</comment>
    <parameter name="SearchText" value="${searchID}"/>
  </module>
  <module name="modules.catalog.ValidateProductDetailsPageStructure"/>
  <module name="modules.productdetails.MRecomendationsStructure">
    <parameter name="RecomendationsCount" value="4"/>
  </module>
  <action name="CheckCarouselControls"/>
  <command name="assertElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: 0px')))]"/>
  <command name="assertNotElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: -100px')))]"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="//div[@class='recommendations cross-sell']//div[contains(@class,'jcarousel-next')]"/>
  </module>
  <command name="waitForElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: -100px')))]"/>
  <command name="assertElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: -100px')))]"/>
  <command name="assertNotElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: 0px')))]"/>
  <module name="library.function.FClick">
    <parameter name="clickElement" value="//div[@class='recommendations cross-sell']//div[contains(@class,'jcarousel-prev')]"/>
  </module>
  <command name="waitForElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: 0px')))]"/>
  <command name="assertElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: 0px')))]"/>
  <command name="assertNotElementPresent" target="//ul[(contains(@id,'carousel-recomendations') and (contains(@style,'left: -100px')))]"/>
  <action name="ProductDisplayMouseOver"/>
  <module name="library.function.FMouseOver">
    <parameter name="element" value="css=li.jcarousel-item:nth-child(1) &gt; div:nth-child(1) &gt; div:nth-child(2) &gt; a:nth-child(1) &gt; img:nth-child(1)"/>
  </module>
  <command name="assertElementPresent" target="//div[@id='tooltip']"/>
  <command name="waitForElementPresent" target="//div[@id='tooltip']//div[(contains(@class,'product-name') and (contains(text(),'${selecteRecomemdation}')))]"/>
  <command name="waitForElementPresent" target="//div[@id='tooltip']//div[contains(@class,'product-price')]/div[contains(text(),'${selectedprice}')]"/>
  <command name="mouseOut" target="//li[contains(@class,'jcarousel-item-1')]//div[(contains(@class,'product-name') and (contains(text(),'${selecteRecomemdation}')))]"/>
  <action name="ClickSelectProductDisplayPage"/>
  <module name="library.function.FClickAndWaitForPageLoad">
    <parameter name="clickElement" value="//li[contains(@class,'jcarousel-item-1')]//div[contains(@class,'product-name')]/a[contains(text(),'${selecteRecomemdation}')]"/>
  </module>
  <module name="library.function.FAssertText">
    <parameter name="textElement" value="css=h1.product-name"/>
    <parameter name="textPattern" value="${selecteRecomemdation}"/>
  </module>
</testcase>