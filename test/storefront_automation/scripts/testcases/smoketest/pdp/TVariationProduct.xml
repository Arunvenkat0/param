<?xml version="1.0" encoding="UTF-8" ?>
<testcase version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.usermanagement.RegisterNewUser">
    <parameter name="FirstName" value="${FirstName}"/>
    <parameter name="LastName" value="${LastName}"/>
  </module>
  <module name="modules.search.SearchProductByIDOrName">
    <comment>Search for the product set</comment>
    <parameter name="SearchText" value="${searchID}"/>
  </module>
  <module name="modules.catalog.ValidateProductDetailsPageStructure"/>
  <command name="assertNotElementPresent" target="//a[contains(text(),'Add to Wishlist')]"/>
  <command name="assertNotElementPresent" target="//a[contains(text(),'Add to Gift Registry')]"/>
  <command name="assertElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@title,'Select Color and Size')]"/>
  <command name="assertElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@class,'button-fancy-large add-to-cart-disabled')]"/>
  <command name="assertNotElementPresent" target="css=.Color .selected"/>
  <command name="assertNotElementPresent" target="css=.size .selected"/>
  <command name="storeText" target="css=.Color .emptyswatch .swatchanchor" value="ColorSelected">
    <comment>Select size.</comment>
  </command>
  <command name="click" target="css=.Color .emptyswatch .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="waitForElementPresent" target="//li[contains(text(),'${ColorSelected}') ]"/>
  <command name="waitForElementPresent" target="css=.Color .selected"/>
  <command name="assertText" target="css=.product-variations .attribute:first-child .value .swatches .selected-value" value="${ColorSelected}"/>
  <command name="storeText" target="css=.size  .emptyswatch .swatchanchor" value="SizeSelected">
    <comment>Select size.</comment>
  </command>
  <command name="click" target="css=.size  .emptyswatch .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="waitForElementPresent" target="css=.size .selected"/>
  <command name="waitForElementPresent" target="//li[contains(text(),'${SizeSelected}') ]"/>
  <command name="assertNotElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@class,'button-fancy-large add-to-cart-disabled')]"/>
  <command name="assertNotElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@title,'Select Color and Size')]"/>
  <command name="assertElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@title,'Add to Cart')]"/>
  <command name="assertElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@class,'button-fancy-large')]"/>
  <command name="assertVisible" target="//a[contains(text(),'Add to Wishlist')]"/>
  <command name="assertVisible" target="//a[contains(text(),'Add to Gift Registry')]"/>
  <command name="assertVisible" target="//a[contains(text(),'Send to a Friend')]"/>
  <command name="assertElementPresent" target="//a[contains(text(),'Add to Wishlist')]"/>
  <command name="assertElementPresent" target="//div[@class='product-add-to-cart']//button[contains(@class,'button-fancy-large')]"/>
  <command name="clickAndWait" target="//a[contains(text(),'Add to Wishlist')]"/>
  <command name="assertText" target="css=.breadcrumb-last" value="Wish List">
    <comment>Validates correct breadcrumb text.</comment>
  </command>
  <command name="clickAndWait" target="//div[contains(@class,'product-list-item')]//div[contains(@class,'name')]/a"/>
  <command name="click" target="css=.Color .emptyswatch .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="pause" value="1000"/>
  <command name="click" target="css=.value .size .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="pause" value="1000"/>
  <command name="clickAndWait" target="//a[contains(text(),'Add to Gift Registry')]"/>
  <command name="assertText" target="css=.breadcrumb-last" value="Gift Registry">
    <comment>Validates correct breadcrumb text.</comment>
  </command>
  <command name="clickAndWait" target="//a[contains(text(),'Wish List')]"/>
  <command name="assertText" target="css=.breadcrumb-last" value="Wish List">
    <comment>Validates correct breadcrumb text.</comment>
  </command>
  <command name="clickAndWait" target="//div[contains(@class,'product-list-item')]//div[contains(@class,'name')]/a"/>
  <command name="click" target="//a[contains(text(),'Send to a Friend')]">
    <comment>Select size.</comment>
  </command>
  <command name="waitForElementPresent" target="//span[(contains(@id,'ui-dialog-title-send-to-friend-dialog') and (contains(text(),'Send to a Friend')))]"/>
  <module name="modules.staticelements.Homepage"/>
</testcase>
