<?xml version="1.0" encoding="UTF-8" ?>
<testcase version="3" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <module name="modules.staticelements.Homepage"/>
  <module name="modules.search.SearchProductByIDOrName">
    <comment>Search for the product set</comment>
    <parameter name="SearchText" value="${searchID}"/>
  </module>
  <command name="assertNotElementPresent" target="css=.Color .selected"/>
  <command name="assertNotElementPresent" target="css=.size .selected"/>
  <command name="assertNotElementPresent" target="css=.width .selected"/>
  <command name="storeText" target="css=.Color .emptyswatch .swatchanchor" value="ColorSelected">
    <comment>Select size.</comment>
  </command>
  <command name="click" target="css=.Color .emptyswatch .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="waitForElementPresent" target="//li[contains(text(),'${ColorSelected}') ]"/>
  <command name="waitForElementPresent" target="css=.Color .selected"/>
  <command name="waitForElementPresent" target="css=.size .unselectable"/>
  <command name="storeText" target="css=.size  .emptyswatch .swatchanchor" value="SizeSelected">
    <comment>Select size.</comment>
  </command>
  <command name="click" target="css=.size  .emptyswatch .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="waitForElementPresent" target="css=.size .selected"/>
  <command name="waitForElementPresent" target="//li[contains(text(),'${SizeSelected}') ]"/>
  <command name="waitForElementPresent" target="css=.width .unselectable"/>
  <command name="storeText" target="css=.width .emptyswatch .swatchanchor" value="WidthSelected">
    <comment>Select size.</comment>
  </command>
  <command name="click" target="css=.width .emptyswatch .swatchanchor">
    <comment>Select size.</comment>
  </command>
  <command name="waitForElementPresent" target="css=.width .selected"/>
  <command name="waitForElementPresent" target="//li[contains(text(),'${WidthSelected}') ]"/>
  <command name="assertElementPresent" disabled="true" target="//div[@class='product-add-to-cart']//button[contains(@title,'Select Color and Size')]"/>
</testcase>
