var POWERREVIEWS=(function(){var I={common:{},submission:{}};var AC=false;var k=false;var M=null;var N={};var m={};var p={};var E={};I.common.gResult=E;window.gResult=E;var e={};var c=encodeURIComponent||escape;var h="prBaseStylesheet";var l="prMerchantOverrideStylesheet";var f={pr_merchant_table:{"m6690":{"name":"Demandware Test Merchant","cobranded":"true"}},pr_merchant_id:6690,pr_locale:"en_US",pr_read_review:"#ReviewHeader",pr_read_qa:"#QAHeader",pr_write_review:"",pr_ask_question:"",pr_answer_question:"",pr_js_controller_url:"http://services.powerreviews.com/JSController.do",pr_reviews_per_page:10,pr_zip_location:"/",pr_powerreviews_root:"pwr",pr_allow_engine_css_override:true,pr_style_sheet:"",pr_analytics_script_src:"",pr_analytics_account:"",pr_badge_definitions_url:"javascript:POWERREVIEWS.common.showSmallPopup('http://www.powerreviews.com/legal/badge_definitions_~~~LOCALE~~~.html', 580, 460)",pr_expert_badge_definitions_url:"javascript:POWERREVIEWS.common.showSmallPopup('http://www.powerreviews.com/legal/expert_badge_definitions_~~~LOCALE~~~.html', 580, 460)",pr_frame_height:3000,pr_submit_review_url:"http://services.powerreviews.com/SubmitReview.do",pr_ask_question_url:"http://services.powerreviews.com/SubmitQuestion.dox",pr_answer_question_url:"http://services.powerreviews.com/SubmitAnswer.dox",pr_resize_url:"",pr_snippet_min_reviews:0,pr_source:"web",pr_image_snippet_show_image:W,pr_image_snippet_max:7,pr_snippet_star_click:"",pr_back_to_top_link:"#"};var B={};if(window&&window.location&&window.location.search){var z=window.location.search.substring(1).split("&");for(var x=0,R=z.length;x<R;++x){var y=z[x].split("=");B[y[0]]=y[1];}}function b(AF){for(var AG=1,AE=arguments.length;AG<AE;++AG){var AH=arguments[AG];if(AH){var AD=AH[AF];if(typeof AD!="undefined"){return AD;}}}return null;}function w(AE,AD){var i=b(AE,AD,B,window,f);if("pr_locale"==AE&&"3498"==w("pr_merchant_id",AD)){if(i=="en"){i="en_CA";}else{if(i=="fr"){i="fr_CA";}}}return i;}I.common.get=w;function K(AH){var AG=0;var AF;for(AF=0;AF<AH.length;AF++){var AE=AH.charCodeAt(AF);AE=AE*Math.abs(255-AE);AG+=AE;}AG=AG%1023;AG=AG+"";var AI=4;var AD=AG.split("");for(AF=0;AF<AI-AG.length;AF++){AD.unshift("0");}AG=AD.join("");AG=AG.substring(0,AI/2)+"/"+AG.substring(AI/2,AI);return AG;}function F(i,AE){if(AC){return true;}else{if(!V(AE)){return false;}}AC=true;if(!document.getElementById(h)){i.write('<link rel="stylesheet" href="'+H(AE)+'/engine/pr_styles_review.css" type="text/css" id="'+h+'">\n');}var AF=H(AE)+"/engine/merchant_styles2.css";var AD=A(w("pr_style_sheet",AE));if(w("pr_allow_engine_css_override",AE)&&AD){AF=AD;}if(!document.getElementById(l)){i.write('<link rel="stylesheet" href="'+AF+'" type="text/css" id="'+l+'">\n');}return true;}function V(i){if(k){return true;}else{if(!w("pr_page_id",i)){return false;}}k=true;return true;}function C(i,AD){if(!document.getElementById(i)){setTimeout(function(){C(i,AD);},1000);}s(i,AD);}function s(i,AE){try{if(!AE){AE="";}g(function(){document.getElementById(i).innerHTML=AE;});}catch(AD){}}function g(i){if(typeof i=="function"){(function(){if(J()){try{document.documentElement.doScroll("left");}catch(AD){setTimeout(arguments.callee,50);return ;}}i();i=null;})();}}function J(){return typeof document.all!="undefined"&&typeof window.opera=="undefined"&&!(navigator.vendor=="KDE");}function T(i){new Image().src=i;}function H(AD){var i=w("pr_zip_location",AD);if(i.charAt(i.length-1)!="/"){i+="/";}i+=w("pr_powerreviews_root",AD);return i;}I.common.getDocRoot=H;function a(i){return i.replace(/\W/g,"__");}function U(AD,AF,AE,i){this.pageId=AD;this.fullReviewCount=AF;this.quickReviewCount=AE;this.averageRating=i;this.getFullReviewCount=function(){return this.fullReviewCount;};this.getQuickReviewCount=function(){return this.quickReviewCount;};this.getAverageRating=function(){return this.averageRating;};this.getPageId=function(){return this.pageId;};}function AB(AD,i,AE){return AE&&AE["locales"]&&AE["locales"][i]&&AE["locales"][i]["p"+AD];}function X(AE){var AF=document.getElementsByName(AE);for(var AD=0;AD<AF.length;AD++){if(AF[AD].checked){return AF[AD].value;}}return null;}function L(i,AE,AD){return i.replace(new RegExp(AE,"g"),AD);}function A(i){return i&&i.replace(/^\s+|\s+$/g,"");}function q(i){if(typeof i=="string"){return i.replace(/\n/g,"<br />");}else{return i;}}function o(AE,AI,AD){var AG=H(AD);var AF=AE.substring(AE.indexOf(AG)+AG.length+1);if(E[AF]){AI(E[AF]);}else{var i=document.createElement("script");var AH=function(){if(E[AF]){if(i.parentNode){i.parentNode.removeChild(i);delete i;}AI(E[AF]);}};if(J()){i.onreadystatechange=AH;}else{i.onload=AH;}i.type="text/javascript";i.charset="utf-8";i.src=AE;document.getElementsByTagName("head")[0].appendChild(i);}}function AA(AH,AI,AD){if(AH.className){var AE=AH.className.split(" ");if(AD){var AG=AI.toUpperCase();for(var AF=0;AF<AE.length;AF++){if(AE[AF].toUpperCase()==AG){AE.splice(AF,1);AF--;}}}AE[AE.length]=AI;AH.className=AE.join(" ");}else{AH.className=AI;}}function Q(AG,AH){if(AG.className){var AD=AG.className.split(" ");var AF=AH.toUpperCase();for(var AE=0;AE<AD.length;AE++){if(AD[AE].toUpperCase()==AF){AD.splice(AE,1);AE--;}}AG.className=AD.join(" ");}}function O(AK,AL,AM){var AI=(AL=="*"&&AK.all)?AK.all:AK.getElementsByTagName(AL);var AH=new Array();var AN=new Array();if(typeof AM=="object"){for(var AG=0;AG<AM.length;AG++){AN.push(new RegExp("(^|\\s)"+AM[AG].replace(/\-/g,"\\-")+"(\\s|$)"));}}else{AN.push(new RegExp("(^|\\s)"+AM.replace(/\-/g,"\\-")+"(\\s|$)"));}var AD;var AJ;for(var AF=0;AF<AI.length;AF++){AD=AI[AF];AJ=true;for(var AE=0;AE<AN.length;AE++){if(!AN[AE].test(AD.className)){AJ=false;break;}}if(AJ){AH.push(AD);}}return AH;}function r(AD,i){e[AD]=i;}function v(i){return e[i];}I.common.getOptions=v;function S(AD,i,AG,AE){var AF=N[AD];if(!AF){o(H(AE)+"/content/"+K(AD)+"/contents.js",function(AH){AF=AB(AD,i,AH);N[AD]=AF?AF:"none";AG(AF);},AE);}else{if(AF=="none"){AG(null);}else{AG(AF);}}}function d(AD,i,AF,AE){if(!M){o(H(AE)+"/content/"+K(AD)+"/"+AD+"-"+i+"-meta.js",function(AG){M=AG?AG.metadata:null;AF();},AE);}else{AF();}}function Z(AD,i,AG,AH,AF){if(!m[AD+"-"+AG]){var AE=H(AF)+"/content/"+K(AD)+"/"+AD+"-"+i+"-"+AG+"-reviews.js";o(AE,function(AL){var AJ=[];for(var AK=0;AK<AL.length;AK++){var AI=AL[AK].r;p[AI.id]=AI;AJ.push(AI);}m[AD+"-"+AG]=AJ;AH();},AF);}else{AH();}}function Y(AE,AD,AI,AJ,AF){var AH=AI.length;for(var AG=0;AG<AI.length;AG++){Z(AE,AD,AI[AG],function(){if(--AH<=0){AJ();}},AF);}}function n(i){return Math.round(i*2)/2;}function W(AE,AF,i,AD){window.open("http://images2.powerreviews.com/media_popup.html?type=image&url="+c(AE),"sizedWindow","toolbar=no,location=no,directories=no,status=no,menubar=no,resizable=no,width="+AF+",height="+i+",top=100,left=100");}I.common.showImagePopup=W;window.showImagePopup=W;function G(AD,i,AF){var AE=window.open(AD,"smallWindow","toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+AF+",height="+i+",top=200,left=200");if(window.focus){AE.focus();}}I.common.showSmallPopup=G;window.showSmallPopup=G;function t(AD,i){window.open("http://images2.powerreviews.com/media_popup.html?type=video&url="+c(AD),"sizedWindow","toolbar=no,location=no,directories=no,status=no,menubar=no,resizable=no,width=435,height=350,top=100,left=100");}I.common.showVideoPopup=t;window.showVideoPopup=t;function P(AJ){var AM=[];var Ac=w("pr_app_name",AJ)||w("appName",AJ);var AP=w("pr_page_id",AJ);if(!Ac||Ac==""||Ac=="reviewSubmit"||Ac=="submitReview"){var Ad=w("pr_submit_review_url",AJ);AM.push(Ad);AM.push(Ad.indexOf("?")>=0?"&":"?");AM.push("pageId=");AM.push(AP);}else{if(Ac=="askQuestion"){var Ah=w("pr_ask_question_url",AJ);AM.push(Ah);AM.push(Ah.indexOf("?")>=0?"&":"?");AM.push("pageId=");AM.push(AP);}else{if(Ac=="answerQuestion"){var AY=w("pr_answer_question_url",AJ);var AG=w("pr_question_id",AJ)||w("questionId",AJ);AM.push(AY);AM.push(AY.indexOf("?")>=0?"&":"?");AM.push("pageId=");AM.push(AP);AM.push("&questionId=");AM.push(AG);}}}var AE=w("pr_merchant_id",AJ);if(AE){AM.push("&merchantId=");AM.push(AE);}var AZ=w("pr_promo_code",AJ);if(AZ){AM.push("&promoCode=");AM.push(AZ);}var Ae=w("pr_merchant_user_email",AJ);if(Ae){AM.push("&merchantUserEmail=");AM.push(Ae);}var AO=w("pr_merchant_user_id",AJ)||w("pr_user_id",AJ);if(AO){AM.push("&merchantUserId=");AM.push(AO);}var AW=w("pr_locale",AJ);if(AW){if(AW=="en"){AW="en_US";}else{if(AW=="fr"){AW="fr_CA";}}AM.push("&locale=");AM.push(AW);}var Af=w("pr_merchant_group_id",AJ);if(Af){AM.push("&merchantGroupId=");AM.push(Af);}var Aa=w("pr_site_id",AJ);if(Aa){AM.push("&siteId=");AM.push(Aa);}var AF=w("pr_style_sheet",AJ);if(AF){AM.push("&cssOverride=");AM.push(AF);}var AU=w("pr_source",AJ);AM.push("&source=");AM.push(AU);var AR=w("pr_extra_info",AJ);if(AR&&typeof AR=="object"){var AK="";for(var Ab in AR){if(typeof Ab=="string"&&AR.hasOwnProperty(Ab)){AK+=Ab+"^^"+AR[Ab];AK+="#";}}if(AK){AM.push("&extraInfo=");AM.push(c(AK));}}var AV=w("pr_reviewer_nickname",AJ);if(AV){AM.push("&reviewerNickname=");AM.push(AV);}var AN=w("pr_reviewer_location",AJ);if(AN){AM.push("&reviewerLocation=");AM.push(AN);}var AT=w("pr_reviewer_type",AJ);if(AT){AM.push("&reviewerType=");AM.push(AT);}var Ag=w("pr_campaign_id",AJ);if(Ag){AM.push("&campaignId=");AM.push(Ag);}var AI=w("pr_page_id_variant",AJ);if(AI){AM.push("&variant=");AM.push(AI);}var Ai=w("pr_return_url",AJ);if(Ai){AM.push("&returnUrl=");AM.push(c(Ai));}var AQ=w("pr_resize_url",AJ);if(AQ){AM.push("&resizeUrl=");AM.push(c(AQ));}else{var AS="";var AD=document.getElementsByTagName("script");for(var AX=0;AX<AD.length;AX++){var AL=AD[AX].getAttribute("src");if(AL&&AL.indexOf("appLaunch.js")>=0){AS=AL;break;}}AM.push("&windowLocation=");AM.push(c(window.location));AM.push("&appLaunchSrc=");AM.push(c(AS));}var AH=w("pr_unique_review_id",AJ);if(AH){AM.push("&uniqueReviewId=");AM.push(AH);}return AM.join("");}I.submission.getIframeSourceUrl=P;function j(AE){var i=P(AE);var AD=w("pr_frame_height",AE);document.write("<iframe id='submitReviewIframe' src='"+i+"' frameborder='0' height='"+AD+"' width='100%' scrolling='auto'></iframe>");}I.submission.writeOutIframe=j;function u(AD){var i=0;if(AD&&AD.offsetParent){do{i+=AD.offsetTop;}while(AD=AD.offsetParent);}return i;}function D(AF,AE,AD){if(typeof AF=="number"){document.getElementById("submitReviewIframe").setAttribute("height",AF);}if(typeof AE=="number"&&AE>0){var AG=0;var i=w("pr_scroll_to_id",AD);if(i){AG=u(document.getElementById(i));}window.scroll(0,AG);}}I.submission.updateIframe=D;return I;})();POWERREVIEWS.submission.writeOutIframe();